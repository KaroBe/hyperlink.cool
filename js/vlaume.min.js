function recordFilter(e,n,t){function a(e,n){for(;(e=e.parentElement)&&!e.classList.contains(n););return e}function r(){for(var e=document.getElementsByTagName("*"),n=[],t=0;t<e.length;t++)e[t].tabIndex>-1&&null!==e[t].offsetParent&&n.push(e[t]);return n}function s(e,n){var t='<li class="'+m+'" data-key="'+e+'"><div class="'+m+'__title">'+n.title+'</div><nav class="nav  record-nav">';for(var a in n.links)t+='<a class="'+m+'__link" href="'+n.links[a]+'">'+a+"</a>";return t}function o(e){var t=document.getElementById(u);t?t.innerHTML="":(t=document.createElement("ul"),t.id=t.className=u,document.getElementById(n).insertBefore(t,null));for(var a in c)e.indexOf(a)>-1&&(t.innerHTML+=s(a,c[a]));t.hasChildNodes()&&l()}function l(){var e=document.getElementById(u),n=e.firstElementChild.getElementsByClassName(f)[0];if(n&&n.className.indexOf(f)>-1){var t=e.getElementsByClassName(v)[0];t&&t.classList.remove(v),n.className+="  "+v}}function i(e,n){for(var t=e.map(function(e){return e.toLowerCase()}),a=0;a<t.length;a++)if(t[a].indexOf(n.toLowerCase())>-1)return!0;return!1}function d(e){var n=[];for(var t in c){var a=c[t],r=a.alt_names.concat(a.title,a.abbr);i(r,e)&&n.push(t)}return n}var c,u="record-list",m="record",f=m+"__link",v=f+"--active",y=new XMLHttpRequest;y.open("GET",e,!1),y.onload=function(e){4===y.readyState&&(200===y.status?c=JSON.parse(y.responseText):console.error(y.statusText))},y.onerror=function(e){console.error(y.statusText)},y.send(null),window.onload=function(e){document.body.classList.contains("js-disabled")&&(document.body.classList.remove("js-disabled"),document.body.className+=" js-enabled");var n=[];for(var a in c){var r=c[a];n=n.concat(r.title,r.abbr,r.alt_names)}var s=document.getElementById(t);s.placeholder=n[Math.floor(Math.random()*n.length)],s.value.length>0&&o(d(s.value)),l(),s.addEventListener("input",function(e){o(d(s.value))},!1)},window.onkeydown=function(e){e=e||window.event;var n=document.getElementById(u);if(-1!==[9,13,37,38,39,40].indexOf(e.keyCode)&&n.hasChildNodes()){var s=n.getElementsByClassName(v)[0];if(13===e.keyCode){if(document.activeElement!==document.getElementById(t))return;document.activeElement.blur(),s.focus()}var o;if(9===e.keyCode){if(1===n.length)return;for(var l=r(),i=document.activeElement,d=0;d<l.length;d++)if(l[d]===i){e.shiftKey&&l[d-1]?o=l[d-1]:l[d+1]&&(o=l[d+1]);break}}if([37,39].indexOf(e.keyCode)>-1){for(var c,y,g=n.getElementsByClassName(f),E=0;E<g.length;E++)if(s===g[E]){c=g[E-1],y=g[E+1];break}if(!c&&!y)return;37===e.keyCode&&c?o=c:39===e.keyCode&&y&&(o=y)}else if([38,40].indexOf(e.keyCode)>-1){var C=a(s,m),h=C.previousElementSibling,k=C.nextElementSibling;if(!h&&!k)return;38===e.keyCode&&h?o=h.getElementsByClassName(f)[0]:40===e.keyCode&&k&&(o=k.getElementsByClassName(f)[0])}o&&o.classList.contains(f)&&([37,38,39,40].indexOf(e.keyCode)>-1&&(e.preventDefault(),o.focus()),s.classList.remove(v),o.className+="  "+v)}}}