function recordFilter(e,n,t){function a(e,n){for(;(e=e.parentElement)&&!e.classList.contains(n););return e}function s(){for(var e=document.getElementsByTagName("*"),n=[],t=0;t<e.length;t++)e[t].tabIndex>-1&&null!==e[t].offsetParent&&n.push(e[t]);return n}function r(e,n){var t='<li class="'+u+'" data-key="'+e+'"><div class="'+u+'__title">'+n.title+'</div><nav class="nav  record-nav">';for(var a in n.links)t+='<a class="'+u+'__link" href="'+n.links[a]+'">'+a+"</a>";return t}function o(e){var t=document.getElementById(c);t?t.innerHTML="":(t=document.createElement("ul"),t.id=t.className=c,document.getElementById(n).insertBefore(t,null));for(var a in d)e.indexOf(a)>-1&&(t.innerHTML+=r(a,d[a]));if(t.hasChildNodes()){var s=t.firstElementChild.getElementsByClassName(f)[0];if(s&&s.className.indexOf(f)>-1){var o=t.getElementsByClassName(m)[0];o&&o.classList.remove(m),s.className+="  "+m}}}function i(e,n){for(var t=e.map(function(e){return e.toLowerCase()}),a=0;a<t.length;a++)if(t[a].indexOf(n.toLowerCase())>-1)return!0;return!1}function l(e){var n=[];for(var t in d)i(d[t].names,e)&&n.push(t);return n}var d,c="record-list",u="record",f=u+"__link",m=f+"--active",v=new XMLHttpRequest;v.open("GET",e,!1),v.onload=function(e){4===v.readyState&&(200===v.status?d=JSON.parse(v.responseText):console.error(v.statusText))},v.onerror=function(e){console.error(v.statusText)},v.send(null),window.onload=function(e){document.body.classList.contains("js-disabled")&&(document.body.classList.remove("js-disabled"),document.body.className+=" js-enabled");var n=[];for(var a in d)n=n.concat(d[a].names);var s=document.getElementById(t);s.placeholder=n[Math.floor(Math.random()*n.length)],s.addEventListener("input",function(e){o(l(s.value))},!1)},window.onkeydown=function(e){e=e||window.event;var n=document.getElementById(c);if(-1!==[9,13,37,38,39,40].indexOf(e.keyCode)&&n.hasChildNodes()){var r=n.getElementsByClassName(m)[0];if(13===e.keyCode){if(document.activeElement!==document.getElementById(t))return;document.activeElement.blur(),r.focus()}var o;if(9===e.keyCode){if(1===n.length)return;for(var i=s(),l=document.activeElement,d=0;d<i.length;d++)if(i[d]===l){e.shiftKey&&i[d-1]?o=i[d-1]:i[d+1]&&(o=i[d+1]);break}}if([37,39].indexOf(e.keyCode)>-1){for(var v,y,E=n.getElementsByClassName(f),g=0;g<E.length;g++)if(r===E[g]){v=E[g-1],y=E[g+1];break}if(!v&&!y)return;37===e.keyCode&&v?o=v:39===e.keyCode&&y&&(o=y)}else if([38,40].indexOf(e.keyCode)>-1){var C=a(r,u),h=C.previousElementSibling,k=C.nextElementSibling;if(!h&&!k)return;38===e.keyCode&&h?o=h.getElementsByClassName(f)[0]:40===e.keyCode&&k&&(o=k.getElementsByClassName(f)[0])}o&&o.classList.contains(f)&&([37,38,39,40].indexOf(e.keyCode)>-1&&(e.preventDefault(),o.focus()),r.classList.remove(m),o.className+="  "+m)}}}