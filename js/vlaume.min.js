function recordFilter(t,e,n){function i(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}function s(){for(var t=document.getElementsByTagName("*"),e=[],n=0;n<t.length;n++)t[n].tabIndex>-1&&null!==t[n].offsetParent&&e.push(t[n]);return e}function r(t,e){var n='<li class="'+u+'" data-key="'+e.key+'"><div class="'+u+'__title">'+e.title+"</div>";if(e.links.length>0){n+='<nav class="nav  record-nav">';for(var i=0;i<e.links.length;i++){var s=e.links[i];n+='<a class="'+u+'__link" href="'+s.url+'">'+s.title+"</a>"}}return n}function o(t){var n=document.getElementById(h);n?n.innerHTML="":(n=document.createElement("ul"),n.id=n.className=h,document.getElementById(e).insertBefore(n,null));for(var i=0;i<t.length;i++)n.innerHTML+=r(t[i],c[t[i]]);if(n.hasChildNodes()){var s=n.firstElementChild.getElementsByClassName(f)[0];a(s)}}function a(t){if(t&&t.className.indexOf(f)>-1){var e=document.getElementById(h),n=e.getElementsByClassName(d)[0];n&&n.classList.remove(d),t.className+="  "+d}}function l(t){if(0===t.length){var e=[];for(var n in c)e.push(n);return e}var i=[];for(var s in c)i.push(c[s]);var r={keys:["abbr","title","keywords","persons","links.title"],id:"key"},o=new Fuse(i,r);return o.search(t)}var c,h="record-list",u="record",f=u+"__link",d=f+"--active",p=new XMLHttpRequest;p.open("GET",t,!1),p.onload=function(t){4===p.readyState&&(200===p.status?c=JSON.parse(p.responseText):console.error(p.statusText))},p.onerror=function(t){console.error(p.statusText)},p.send(null),window.onload=function(t){document.body.classList.contains("js-disabled")&&document.body.classList.remove("js-disabled");var e=[];for(var i in c){var s=c[i];e=e.concat(s.title,s.abbr,s.keywords)}var r=document.getElementById(n);r.placeholder=e[Math.floor(Math.random()*e.length)],r.value.length>0&&o(l(r.value));var u=document.getElementById(h);a(u.firstElementChild.getElementsByClassName(f)[0]),r.addEventListener("input",function(t){o(l(r.value))},!1),document.addEventListener("focus",function(t){document.activeElement&&a(document.activeElement)},!0)},window.onkeydown=function(t){t=t||window.event;var e=document.getElementById(h);if(-1!==[9,13,37,38,39,40].indexOf(t.keyCode)&&e.hasChildNodes()){var r=e.getElementsByClassName(d)[0];if(13===t.keyCode){if(document.activeElement!==document.getElementById(n))return;document.activeElement.blur(),r.focus()}var o;if(9===t.keyCode){if(1===e.length)return;for(var a=s(),l=document.activeElement,c=0;c<a.length;c++)if(a[c]===l){t.shiftKey&&a[c-1]?o=a[c-1]:a[c+1]&&(o=a[c+1]);break}}if([37,39].indexOf(t.keyCode)>-1){for(var p,m,v=e.getElementsByClassName(f),y=0;y<v.length;y++)if(r===v[y]){p=v[y-1],m=v[y+1];break}if(!p&&!m)return;37===t.keyCode&&p?o=p:39===t.keyCode&&m&&(o=m)}else if([38,40].indexOf(t.keyCode)>-1){var g=i(r,u),k=g.previousElementSibling,b=g.nextElementSibling;if(!k&&!b)return;38===t.keyCode&&k?o=k.getElementsByClassName(f)[0]:40===t.keyCode&&b&&(o=b.getElementsByClassName(f)[0])}o&&o.classList.contains(f)&&([37,38,39,40].indexOf(t.keyCode)>-1&&(t.preventDefault(),o.focus()),r.classList.remove(d),o.className+="  "+d)}}}!function(t){function e(t,n){this.list=t,this.options=n=n||{};var i,s,r,o;for(i=0,o=["sort","shouldSort"],s=o.length;s>i;i++)r=o[i],this.options[r]=r in n?n[r]:e.defaultOptions[r];for(i=0,o=["searchFn","sortFn","keys","getFn","include"],s=o.length;s>i;i++)r=o[i],this.options[r]=n[r]||e.defaultOptions[r]}var n=function(t,e){if(e=e||{},this.options=e,this.options.location=e.location||n.defaultOptions.location,this.options.distance="distance"in e?e.distance:n.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:n.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i,s,r,o,a,l,c,h=t.length,u=this.options.location,f=this.options.threshold,d=t.indexOf(this.pattern,u),p=this.patternLen+h,m=1,v=[];for(-1!=d&&(f=Math.min(this._bitapScore(0,d),f),d=t.lastIndexOf(this.pattern,u+this.patternLen),-1!=d&&(f=Math.min(this._bitapScore(0,d),f))),d=-1,e=0;e<this.patternLen;e++){for(i=0,s=p;s>i;)this._bitapScore(e,u+s)<=f?i=s:p=s,s=Math.floor((p-i)/2+i);for(p=s,r=Math.max(1,u-s+1),o=Math.min(u+s,h)+this.patternLen,a=Array(o+2),a[o+1]=(1<<e)-1,n=o;n>=r;n--)if(c=this.patternAlphabet[t.charAt(n-1)],0===e?a[n]=(a[n+1]<<1|1)&c:a[n]=(a[n+1]<<1|1)&c|((l[n+1]|l[n])<<1|1)|l[n+1],a[n]&this.matchmask&&(m=this._bitapScore(e,n-1),f>=m)){if(f=m,d=n-1,v.push(d),!(d>u))break;r=Math.max(1,2*u-d)}if(this._bitapScore(e+1,u)>f)break;l=a}return{isMatch:d>=0,score:m}};var i=function(t,e,n){var r,o,a;if(e){a=e.indexOf("."),-1!==a?(r=e.slice(0,a),o=e.slice(a+1)):r=e;var l=t[r];if(l)if(o||"string"!=typeof l&&"number"!=typeof l)if(s.isArray(l))for(var c=0,h=l.length;h>c;c++)i(l[c],o,n);else o&&i(l,o,n);else n.push(l)}else n.push(t);return n},s={deepValue:function(t,e){return i(t,e,[])},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}};e.defaultOptions={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:s.deepValue,keys:[]},e.prototype.set=function(t){return this.list=t,t},e.prototype.search=function(t){var e,n,i,r,o=new this.options.searchFn(t,this.options),a=this.list,l=a.length,c=this.options,h=this.options.keys,u=h.length,f=[],d={},p=[],m=function(t,e,n){if(void 0!==t&&null!==t)if("string"==typeof t)i=o.search(t),i.isMatch&&(r=d[n],r?r.score=Math.min(r.score,i.score):(d[n]={item:e,score:i.score},f.push(d[n])));else if(s.isArray(t))for(var a=0;a<t.length;a++)m(t[a],e,n)};if("string"==typeof a[0])for(var v=0;l>v;v++)m(a[v],v,v);else for(var v=0;l>v;v++)for(n=a[v],e=0;u>e;e++)m(c.getFn(n,h[e]),n,v);c.shouldSort&&f.sort(c.sortFn);for(var y=c.id?function(t){f[t].item=c.getFn(f[t].item,c.id)[0]}:function(){},g=function(t){var e;if(c.include.length>0){e={item:f[t].item};for(var t=0;t<c.include.length;t++){var n=c.include[t];e[n]=f[t][n]}}else e=f[t].item;return e},v=0,k=f.length;k>v;v++)y(v),p.push(g(v));return p},"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.Fuse=e}(this);