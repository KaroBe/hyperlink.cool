"use strict";function init(t,e,n){containerName=e,inputID=n,getJSON(t).then(function(t){listData=t},function(t){console.error(t)})}function getJSON(t){return window.Promise?new Promise(function(e,n){var i=new XMLHttpRequest;i.open("GET",t),i.addEventListener("load",function(){4===i.readyState&&(200===i.status?e(JSON.parse(i.responseText)):n(Error("Error: "+i.status+" "+i.statusText)))}),i.addEventListener("error",function(){n(Error("Error: "+i.status+" "+i.statusText))}),i.send(null)}):void console.log("Your browser does not support promises.")}function recordFilter(){function t(t){if(0===t.length){var e=[];for(var n in listData)e.push(n);return e}var i=[];for(var o in listData)i.push(listData[o]);var s={keys:["abbr","title","keywords","persons","links.title"],id:"key"},r=new Fuse(i,s);return r.search(t)}function e(t){var e=document.getElementById(r);e?e.innerHTML="":(e=document.createElement("ul"),e.id=e.className=r,document.getElementById(containerName).insertBefore(e,null));for(var o="",s=0;s<t.length;s++)o+=n(t[s],listData[t[s]]);o&&(e.innerHTML=o),e.hasChildNodes()&&i(e.firstElementChild.getElementsByClassName(l)[0])}function n(t,e){var n='<li class="'+a+'" data-key="'+e.key+'"><div class="'+a+'__title">'+e.title+"</div>";if(e.links.length>0){n+='<nav class="nav  record-nav">';for(var i=0;i<e.links.length;i++){var o=e.links[i];n+='<a class="'+a+'__link" href="'+o.url+'">'+o.title+"</a>"}}return n+="</nav></li>"}function i(t){if(t&&t.className.indexOf(l)>-1){var e=document.getElementById(r),n=e.getElementsByClassName(c)[0];n&&n.classList.remove(c),t.className+="  "+c}}function o(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}function s(){for(var t=document.getElementsByTagName("*"),e=[],n=0;n<t.length;n++)t[n].tabIndex>-1&&null!==t[n].offsetParent&&e.push(t[n]);return e}var r="record-list",a="record",l=a+"__link",c=l+"--active",u=[];for(var f in listData){var h=listData[f];u=u.concat(h.title,h.abbr,h.keywords)}var d=document.getElementById(inputID);d.placeholder=u[Math.floor(Math.random()*u.length)],d.value.length>0&&e(t(d.value));var p=document.getElementById(r);null!=p.firstElementChild&&i(p.firstElementChild.getElementsByClassName(l)[0]);var m;d.addEventListener("input",function(n){m&&clearTimeout(m),m=setTimeout(function(){e(t(d.value))},150)},!1),document.addEventListener("focus",function(t){document.activeElement&&i(document.activeElement)},!0),document.addEventListener("keydown",function(t){t=t||window.event;var e=t.keyCode,n=document.getElementById(r);if([9,13,37,38,39,40].indexOf(e)!==-1&&n.hasChildNodes()){var i=n.getElementsByClassName(c)[0];if(document.activeElement===document.getElementById(inputID))return void([13,40].indexOf(e)>-1&&(n.getElementsByClassName(l)[0].focus(),40===e&&t.preventDefault()));if(13!==e){var u;if(9===e)for(var f=s(),h=0;h<f.length;h++)f[h]===document.activeElement&&(event.shiftKey&&void 0!=f[h-1]?u=f[h-1]:void 0!=f[h+1]&&(u=f[h+1]));else if([37,39].indexOf(e)>-1){for(var d,p,m=n.getElementsByClassName(l),h=0;h<m.length;h++)if(i===m[h]){d=m[h-1],p=m[h+1];break}if(!d&&!p)return;37===e&&void 0!=d?u=d:39===e&&void 0!=p&&(u=p)}else if([38,40].indexOf(e)>-1){var v=o(i,a),y=v.previousElementSibling,g=v.nextElementSibling;if(!y&&!g)return;38===e&&void 0!=y?u=y.getElementsByClassName(l)[0]:40===e&&void 0!=g&&(u=g.getElementsByClassName(l)[0])}u&&u.classList.contains(l)&&([37,38,39,40].indexOf(e)>-1&&(t.preventDefault(),u.focus()),i.classList.remove(c),u.className+="  "+c)}}})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(t,n){this.list=t,this.options=n=n||{};var i,o,s,r;for(i=0,r=["sort","shouldSort"],o=r.length;i<o;i++)s=r[i],this.options[s]=s in n?n[s]:e.defaultOptions[s];for(i=0,r=["searchFn","sortFn","keys","getFn","include"],o=r.length;i<o;i++)s=r[i],this.options[s]=n[s]||e.defaultOptions[s]}var n=function t(e,n){if(n=n||{},this.options=n,this.options.location=n.location||t.defaultOptions.location,this.options.distance="distance"in n?n.distance:t.defaultOptions.distance,this.options.threshold="threshold"in n?n.threshold:t.defaultOptions.threshold,this.options.maxPatternLength=n.maxPatternLength||t.defaultOptions.maxPatternLength,this.pattern=n.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i,o,s,r,a,l,c,u=t.length,f=this.options.location,h=this.options.threshold,d=t.indexOf(this.pattern,f),p=this.patternLen+u,m=1,v=[];for(d!=-1&&(h=Math.min(this._bitapScore(0,d),h),d=t.lastIndexOf(this.pattern,f+this.patternLen),d!=-1&&(h=Math.min(this._bitapScore(0,d),h))),d=-1,e=0;e<this.patternLen;e++){for(i=0,o=p;i<o;)this._bitapScore(e,f+o)<=h?i=o:p=o,o=Math.floor((p-i)/2+i);for(p=o,s=Math.max(1,f-o+1),r=Math.min(f+o,u)+this.patternLen,a=Array(r+2),a[r+1]=(1<<e)-1,n=r;n>=s;n--)if(c=this.patternAlphabet[t.charAt(n-1)],0===e?a[n]=(a[n+1]<<1|1)&c:a[n]=(a[n+1]<<1|1)&c|((l[n+1]|l[n])<<1|1)|l[n+1],a[n]&this.matchmask&&(m=this._bitapScore(e,n-1),m<=h)){if(h=m,d=n-1,v.push(d),!(d>f))break;s=Math.max(1,2*f-d)}if(this._bitapScore(e+1,f)>h)break;l=a}return{isMatch:d>=0,score:m}};var i=function t(e,n,i){var s,r,a;if(n){a=n.indexOf("."),a!==-1?(s=n.slice(0,a),r=n.slice(a+1)):s=n;var l=e[s];if(l)if(r||"string"!=typeof l&&"number"!=typeof l)if(o.isArray(l))for(var c=0,u=l.length;c<u;c++)t(l[c],r,i);else r&&t(l,r,i);else i.push(l)}else i.push(e);return i},o={deepValue:function(t,e){return i(t,e,[])},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}};e.defaultOptions={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:o.deepValue,keys:[]},e.prototype.set=function(t){return this.list=t,t},e.prototype.search=function(t){var e,n,i,s,r=new this.options.searchFn(t,this.options),a=this.list,l=a.length,c=this.options,u=this.options.keys,f=u.length,h=[],d={},p=[],m=function t(e,n,a){if(void 0!==e&&null!==e)if("string"==typeof e)i=r.search(e),i.isMatch&&(s=d[a],s?s.score=Math.min(s.score,i.score):(d[a]={item:n,score:i.score},h.push(d[a])));else if(o.isArray(e))for(var l=0;l<e.length;l++)t(e[l],n,a)};if("string"==typeof a[0])for(var v=0;v<l;v++)m(a[v],v,v);else for(var v=0;v<l;v++)for(n=a[v],e=0;e<f;e++)m(c.getFn(n,u[e]),n,v);c.shouldSort&&h.sort(c.sortFn);for(var y=c.id?function(t){h[t].item=c.getFn(h[t].item,c.id)[0]}:function(){},g=function(t){var e;if(c.include.length>0){e={item:h[t].item};for(var t=0;t<c.include.length;t++){var n=c.include[t];e[n]=h[t][n]}}else e=h[t].item;return e},v=0,E=h.length;v<E;v++)y(v),p.push(g(v));return p},"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.Fuse=e}(void 0);var listData,containerName,inputID;document.addEventListener("DOMContentLoaded",function(){document.body.classList.contains("js-disabled")&&document.body.classList.remove("js-disabled");var t=function t(){listData?recordFilter():window.setTimeout(t,100)};t()});